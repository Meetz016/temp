const l="tag",A="syroa-21",o="affid",n="my-flip-id";function u(s,t,e){return new URL(s).searchParams.get(t)===e}chrome.tabs.onUpdated.addListener((s,t,e)=>{if(t.url)try{const r=new URL(t.url),i=r.hostname;let a=null;i.includes("amazon.")?u(t.url,l,A)||(r.searchParams.set(l,A),a=r.toString()):i.includes("flipkart.")&&(u(t.url,o,n)||(r.searchParams.set(o,n),a=r.toString())),a&&a!==t.url&&chrome.tabs.update(s,{url:a})}catch(r){console.error("Error updating URL for affiliate:",r)}});
